-----------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------
	ABOUT SIMPLE BLOG
-----------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------

Simple Blog RoR is a very efficient lightweight blogging system built in Ruby on Rails. The server footprint is extremely small ensuring short load times and better server health, not to mention user experience.

Simple Blog RoR also is very tightly integrated with Facebook and Twitter allowing for seamless integration with those platforms. It allows login via Facebook out-of-the-box.

Additionally there is a lot of other support such as:
	- multiple categories,
	- tag suggestion,
	- aggressive spam prevention
	- threaded comments
	- clickstream
	- full SEO integration
	- localization of the entire interface
	- email posting
	- efficient caching using memcached
	- other extensive social features as favoriting 
	- stores all uploaded images on S3
	- efficient comment notification framework to foster dialogue 
	- built-in search with the ability to use MySQL or Sphinx for search

CURRENT VERSION: 1.0

-----------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------
	MANDATORY REQUIREMENTS
-----------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------

(i) Rails 2.3.8
(ii) Memcached*
(iii) MySQL

* You may exclude this but you will need to contact me at webmaster@sundelof.com for instructions how to. Excluding memcached will strongly effect the performance why I do not recommend it.

-----------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------
	BASIC INSTALLATION OF SIMPLE BLOG
-----------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------

Installing Simple Blog is really simple. Just follow these steps: 

Step 1: Checkout the code from github using:
git clone git@github.com:eriksundelof/Simple-Blog.git

Step 2: Install these mandatory gems 
Make sure you include all their dependencies when you install them.
(1) sudo gem install memcached
(2) sudo gem install will_paginate
(3) sudo gem install aws-s3

Step 3: Rename settings.yml.example to settings.yml
(a) Edit the file per as your preference.
(b) Delete all optional fields which you do not want. You can leave the entries inside settings.yml but make sure they are empty strings. 

Comments:
(i) It is strongly suggested that the noreply@domain.com is a blackhole email!
(ii) Spend some time thinking of the keywords as they are important for SEO

Step 4: Signup and add your credentials for ReCAPTCHA
(a) Signup at http://recaptcha.net
(b) Follow their instructions to get a private and public key
(c) Add these credentials to the settings.yml file

Step 5: Signup and add your API key for Hoptoad
(a) Signup for a free account here https://hoptoadapp.com/account/new/Egg
(b) Add your API key to the settings.yml

Comment: Why is this required? Simple Blog is a young product why this will be very helpful for track down issues. If you strongly feel this shouldn't be the case contact me at webmaster@sundelof.com and I can guide you how to turn this off.

Step 6: Doublecheck the settings.yml file
Look through the settings.yml file to make sure you have all the settings you want. You can of course at any time change entries in the file and bounce your server to see the new settings.

Step 7: Signup for Amazon S3
Go to the url to signup for Amazon S3 at http://aws.amazon.com/s3/

Step 8: Rename s3.yml.example to s3.yml
Add your access key and secret access key to your freshly renamed s3.yml that you obtained from step 7!

Step 9: Signup for Defensio Spam protection
(a) Go to http://www.defensio.com and signup
(b) Follow their instructions to obtain an API key

Step 10: Rename defensio.yml.example to defensio.yml
Add your credentials from step 9 to our freshly renamed file defensio.yml! 

Step 11: Setup the database
(a) Rename database.yml.example to database.yml
(b) Add your database credentials
(c) Run rake db:create or rake db:migrate

Step 12: Restart your server!

Step 13: Add a scheduled job to calculate the view count
Simple Blog comes with a built-in view mechanism. In order for you to take advantage of that you need to add a scheduled job to make sure the view counts update. Adding this is really simple. For development and test servers, you can disregard this step.

Just add the following cronjob:
cd PROJECT_ROOT; export RAILS_ENV=production; /usr/bin/ruby script/process_clickstream >> log/process_clickstream.log

Comment: Substitute PROJECT_ROOT for your full path to your Rails project.

Step 14: Register as a new user using the normal registration

Step 15: Make sure this user gets admin privileges
(a) In your project root: 
	(i) script/console
	(ii) Run these commands: 
		>> p = Profile.find_by_email('PUT YOUR EMAIL') 
		>> p.update_attributes({:password => p.password, :confirm_password => p.password, :is_admin => true})
(b) OPTIONAL: If you want this to be your info account for the site, add this user name to settings.yml as the info_account_user_name

Comment: info_account_user_name is the username which will post all site wide actions to Twitter and/or Facebook if such an integration exists. 



-----------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------
	OPTIONAL INSTALLATIONS
-----------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------

INSTALL BIT.LY URL SHORTENING
-----------------------------------------------------------------------------------------------------------------------
Simple Blog uses bit.ly url shortening for all automatic postings to Facebook and/or Twitter. If you would like to have either or both of those integrations you will have to add valid credentials in settings.yml

(a) Signup for a new account at http://bit.ly (or login with your existing account)
(b) Follow their instructions to retrieve an API key
(c) Add your login (i.e. user name) and api key to settings.yml
(d) Install the gem url_shortener with the following command: sudo gem install url_shortener 


INSTALL FACEBOOK INTEGRATION
-----------------------------------------------------------------------------------------------------------------------
Simple Blog contains a complete integration with Facebook allowing both login using Facebook as well as automatic wall postings. You have the option to link Facebook to make sure these actions can be carried out site wide if you link the Facebook application to the info_account_user_name.
(a) If you haven't setup support for bit.ly url shorterning, first follow the instructions to install bit.ly support!
(b) Install the OAuth2 gem with this command: sudo gem install oauth2 
(c) Register your own Facebook application at http://developers.facebook.com/setup/
Comment: You can basically use the standard settings where you only provide the relevant site emails and the proper site url
(d) Add the key and secret to the settings.yml file
(e) If your hostname is http://domain.com make sure your callback url reads:
	http://domain.com/account/facebook_account/callback

OPTIONAL STEPS: 
(f) Login with the info account details
(g) Go to http://domain.com/account/facebook_account (exchange http://domain.com for your root url)
(h) Follow the instructions to link your account to Facebook.

Comments: 
(i) By linking your info account to Facebook will allow you to login using Facebook as well 
(ii) All posts will be posted to the Facebook wall of the linked Facebook account
(iii) All users who link their accounts with Facebook will get their posts posted to
	
	
INSTALL TWITTER INTEGRATION
-----------------------------------------------------------------------------------------------------------------------
Simple Blog contains a complete integration with Twitter allowing automatic tweeting. You have the option to link Twitter to make sure these actions can be carried out site wide if you link the Twitter application to the info_account_user_name. 
(a) If you haven't setup support for bit.ly url shorterning, first follow the instructions to install bit.ly support!
(b) Install the Twitter OAuth2 gem with this command: sudo gem install twitter_oauth2 
(c) Register your own Twitter application at http://twitter.com/apps/new
Comment: Make sure you choose web application for the type of application
(d) Add the key and secret to the settings.yml file
(e) If your hostname is http://domain.com make sure your callback url reads:
	http://domain.com/account/twitter_account/callback

OPTIONAL STEPS: 
(f) Login with the info account details
(g) Go to http://domain.com/account/twitter_account (exchange http://domain.com for your root url)
(h) Follow the instructions to link your account to Twitter.

Comment: All posts will be posted to Twitter feed of the linked Twitter account


INSTALL OPEN CALAIS SUPPORT FOR TAG SUGGESTION
-----------------------------------------------------------------------------------------------------------------------
(a) Go to http://www.opencalais.com and register
(b) Follow their instructions to retrieve an API key
(c) Add the API key to settings.yml
(d) Install the opencalais gem: sudo gem install opencalais


INSTALL SPHINX SEARCH SUPPORT
-----------------------------------------------------------------------------------------------------------------------
(a) Install Sphinx on your server or local machine
(b) Start the searchd deamon
(c) Make sure the sphinx.yml file has the right port
(d) Run from the project root: 
	(i) rake ts:configure 
	(ii) rake ts:start
	(iii) rake ts:dd
(e) Edit settings.yml and add sphinx as the setting for the field search.


INSTALL GOOGLE WEBMASTER SUPPORT
-----------------------------------------------------------------------------------------------------------------------
Simple Blog contains extensive support for SEO and it is strongly suggested that you add the sitemap as well.

(a) Login or register for a new Google Account
(b) Go to http://www.google.com/webmasters/tools
(c) Add your site
(d) Choose verification meta code (DO NOT CLICK VERIFY YET!)
(d) Add the code to settings.yml
(e) Restart your server
(f) Click verify

OPTIONAL STEPS:
(a) Inside Google Webmaster Tools, click Site Configuration >> Sitemaps
(b) Click add a sitemap
(c) Add sitemap.posts

Comment: If you add the sitemap you will ensure that new posts get crawled by Google efficiently.


INSTALL GOOGLE ANALYTICS SUPPORT
-----------------------------------------------------------------------------------------------------------------------
(a) Login or register for a new Google Account
(b) Register a new profile and site at http://analytics.google.com
(c) Add your newly created site Google Analytics Id to settings.yml
(d) Restart your server


ADD EMAIL POSTING SUPPORT
-----------------------------------------------------------------------------------------------------------------------
(a) Create an email account using your control panel or equivalent
(b) Add the relevant settings to settings.yml
(c) Restart your server
(d) Add a scheduled job per as your server : cd PROJECT_ROOT; export RAILS_ENV=production; /usr/bin/ruby script/mail_poller >> log/mail_poller.log

Comment: Substitute PROJECT_ROOT for your full path to your Rails project. 


ADD SOCIAL MEDIA & SUBSCRIBE
-----------------------------------------------------------------------------------------------------------------------
Inside settings.yml you will find extensive support for many of the popular social media sites. Below you find these explained in more details.

	:social:
	    :share_this: "signup at ShareThis and add your API key here"
	    :feedburner: "add your feedburner feed id here"
	    :facebook_widget_id: "if you have a Gacebook page, add the id of the page here"
	    :subscribe:
	        :facebook: "this is the url to any Facebook url you would like to push for"
	        :twitter: "this is the url to the Twitter page you would like to market"
	        :blogtalkradio: "this is the url to the Blog Talk Radio page you would like to market"
	        :youtube: "this is the url to the YouTube page you would like to market"
	        :itunes: "this is the url to the iTunes feed you would like to market, soon Simple Blog will allow for extensive audio support"
	        :flickr: "this is the url to the Flickr page you would like to market"
	
	
-----------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------
	CONTACT
-----------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------

If you have any questions or comments, send an email to webmaster@sundelof.com